public class ConnectSystemException extends SystemRuntimeException {
	private Map<String, Object>	paramMap	= new HashMap<String, Object>();

	public ConnectSystemException(Throwable cause) {
		super(cause);
	}

	public ConnectSystemException(String message, Throwable cause) {
		super(message, cause);
	}
	
	public ConnectSystemException(String message) {
		super(message);
	}

	/**
	 * @return the message
	 */
	public String getMessage() {
		StringBuilder message = new StringBuilder()
				.append(super.getMessage() == null ? "" : super.getMessage());

		if (paramMap.isEmpty()) {
			return message.toString();
		}

		message.append(" {");
		Joiner.on(",\n").withKeyValueSeparator("=").useForNull("null").appendTo(message, paramMap);
		message.append("}");

		return message.toString();
	}

	public ConnectSystemException setParameter(String key, Object value) {
		this.paramMap.put(key, value);
		return this;
	}

	public ConnectSystemException setAllParameter(Map<String, Object> map) {
		this.paramMap.putAll(map);
		return this;
	}
	
	public Map getParameterMap() {
		return this.paramMap;
	}

}
