package ImpTest.ImpTest;

import org.apache.commons.lang.exception.ExceptionUtils;

import com.google.gson.Gson;

/**
 * Generic class used to send response from Rest Services.
 * @author Prashant Goyal
 * @version 1.0
 */
@SuppressWarnings("unused")
public class RestResponse {
	
	 private Object response = null;
	
	private boolean isException = false;
	private String exceptionMessage = null;
	private String exceptionStackTrace = null;

	public void setResponse(Object response) {
		this.response = response;
	}
	
	public void setException(Exception e) {
		this.isException = true;
		this.exceptionMessage = e.getMessage();
		this.exceptionStackTrace = ExceptionUtils.getStackTrace(e);
	}
	
	public void setException(Exception e, String errorMessage) {
		this.isException = true;
		this.exceptionMessage = (e.getMessage() != null ) ? e.getMessage() : errorMessage;
		this.exceptionStackTrace = ExceptionUtils.getStackTrace(e);
	}
	
	public String sendResponse() {
		 return new Gson().toJson(this);
	}
}
